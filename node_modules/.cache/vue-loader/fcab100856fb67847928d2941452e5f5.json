{"remainingRequest":"/Users/backenddev/Desktop/vintri_frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/backenddev/Desktop/vintri_frontend/src/components/Beers.vue?vue&type=style&index=0&id=54a984c3&lang=css","dependencies":[{"path":"/Users/backenddev/Desktop/vintri_frontend/src/components/Beers.vue","mtime":1616150250754},{"path":"/Users/backenddev/Desktop/vintri_frontend/node_modules/css-loader/dist/cjs.js","mtime":1616141982843},{"path":"/Users/backenddev/Desktop/vintri_frontend/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1616141983016},{"path":"/Users/backenddev/Desktop/vintri_frontend/node_modules/postcss-loader/src/index.js","mtime":1616141982953},{"path":"/Users/backenddev/Desktop/vintri_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1616141981740},{"path":"/Users/backenddev/Desktop/vintri_frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1616141983016}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgLnRpdGxlIHsKICAgIG1hcmdpbi1yaWdodDogMTBweDsKICAgIG1hcmdpbi1ib3R0b206IDUlOwogICAgZm9udC1zaXplOiAyNXB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgfQogIC52dWV0YWJsZSB0aCNfRGVzY3JpcHRpb24gewogICAgd2lkdGg6IDgwcHg7CiAgfQo="},{"version":3,"sources":["/Users/backenddev/Desktop/vintri_frontend/src/components/Beers.vue"],"names":[],"mappings":";EA6HE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACnB;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACxB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb","file":"/Users/backenddev/Desktop/vintri_frontend/src/components/Beers.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"container\">\n    <div>\n      <label class=\"title\"> Beers: </label>\n      <input type=\"text\" v-focus @input=\"search\">\n    </div>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Name</th>\n          <th style=\"width:300px\" scope=\"col\">Description</th>\n          <th scope=\"col\">First Brewed</th>\n          <th scope=\"col\">Food Pairing</th>\n          <th scope=\"col\">Rating</th>\n        </tr>\n      </thead>\n      <tbody>\n        <template v-for=\"beer in beers\" v-bind:key=\"beer.id\">\n          <tr>\n            <th scope=\"row\">{{beer.name}}</th>\n            <td style=\"text-align:left\">{{beer.description}}</td>\n            <td>{{beer.first_brewed}}</td>\n            <td>\n              <template v-for=\"(food, i) in beer.food_pairings\" v-bind:key=\"i\">\n                {{food}}<br>\n              </template>\n            </td>\n            <input\n                type=\"number\"\n                min=\"1\" max=\"5\"\n                v-if=\"beer.edit\"\n                @blur=\"beer.edit = false; $emit('update')\"\n                @keyup.enter=\"updateRating(beer, $event.target.value); beer.edit=false; $emit('update')\"\n                v-focus\n            >\n            <template v-else>\n                <td @click=\"beer.edit = true;\"> {{beer.rating}} </td>\n            </template>\n          </tr>\n        </template>\n      </tbody>\n    </table>\n  </div>\n</template>\n<script>\n  import axios from 'axios';\n\n  export default {\n    td: '#app',\n    name: 'Beers',\n    data() {\n      return {\n        beers: null\n      };\n    },\n    created: function() {\n      axios\n        .get('http://localhost:3000/beers/all', {\n          auth:{\n            username: 'admin',\n            password: 'qwe123'\n          }\n        })\n        .then(res => {\n          if (res.data.length > 0) {\n            this.beers = res.data;\n            this.beers = this.beers.map(obj=> ({ ...obj, edit: false }))\n          }\n        })\n    },\n    methods: {\n      search: function(evt){\n      console.log(\"evt.target.value:\", evt.target.value)\n        axios\n          .get('http://localhost:3000/beers?name='+evt.target.value, {\n            headers:{\n              'x-user': 'admin@gmail.com',\n              'Content-Type' : 'application/json',\n              'Accept' : 'application/json',\n              'Authorization' : 'Basic admin:qwe123'\n            },\n            auth:{\n              username: 'admin',\n              password: 'qwe123'\n            }\n          })\n          .then(res => {\n          console.log(\"res.data:\", res.data)\n            if (res.data.length > 0) {\n            console.log(\"res.data:\", res.data)\n              this.beers = res.data;\n              this.beers = this.beers.map(obj=> ({ ...obj, edit: false }))\n              this.$forceUpdate();\n            }\n          })\n      },\n      updateRating: function (beer, rating) {\n        beer.rating = rating;\n        axios\n          .put('http://localhost:3000/beers/'+ beer._id +'?rating='+rating, {}, {\n            headers:{\n              'x-user': 'admin@gmail.com',\n              'Content-Type' : 'application/json',\n              'Accept' : 'application/json',\n              'Authorization' : 'Basic admin:qwe123'\n            },\n            auth:{\n              username: 'admin',\n              password: 'qwe123'\n            }\n          })\n          .then();\n          this.$forceUpdate();\n      }\n    },\n    directives: {\n      focus: {\n        inserted (td) {\n          td.focus()\n        }\n      }\n    }\n  }\n</script>\n<style>\n  .title {\n    margin-right: 10px;\n    margin-bottom: 5%;\n    font-size: 25px;\n    font-weight: bold;\n  }\n  .vuetable th#_Description {\n    width: 80px;\n  }\n</style>\n"]}]}